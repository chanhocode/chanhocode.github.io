---
title: "[Spring] Beanì˜ ì¦‰ì‹œ ë¡œë”©ê³¼ ì§€ì—° ë¡œë”©"
writer: chanho
date: 2024-02-15 12:50:00 +0900
categories: [Backend, Spring]
tags: [backend, spring]
---

ìŠ¤í”„ë§(Spring) í”„ë ˆì„ì›Œí¬ì—ì„œ 'ì¦‰ì‹œ ë¡œë”©(Eager Loading)'ê³¼ 'ì§€ì—° ë¡œë”©(Lazy Loading)'ìœ¼ë¡œ ë¹ˆ(Bean)ì„ ì´ˆê¸°í™” í•˜ëŠ” ë°©ì‹ì„ ì„¤ëª…í•˜ê³ ì í•œë‹¤.

# ì§€ì—° ë¡œë”©(Lazy Loading)

> ì§€ì—° ë¡œë”©ì€ ë¹ˆì´ ì‹¤ì œë¡œ í•„ìš”í•  ë•Œê¹Œì§€ ìƒì„±ì„ ì§€ì—°ì‹œí‚¤ëŠ” ë°©ë²•ìœ¼ë¡œ `ë¹ˆì— ëŒ€í•œ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œ í•´ë‹¹ ë¹ˆì„ ìƒì„±í•˜ê³  ì´ˆê¸°í™” í•œë‹¤.` ì´ ë°©ì‹ì€ ì‹œì‘ ì‹œê°„ì„ ì¤„ì´ê³  ë©”ëª¨ë¦¬ë¥¼ ìµœì í™” í•  ìˆ˜ ìˆì§€ë§Œ, ë¹ˆì´ ì²˜ìŒ ì‚¬ìš©ë  ë•Œ ì´ˆê¸°í™” ê³¼ì •ìœ¼ë¡œ ì¸í•´ ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©°, `ì˜ì¡´ì„± ë¬¸ì œê°€ ëŸ°íƒ€ì„ì— ë°œìƒ`í•  ìˆ˜ ìˆë‹¤.

- ì‹œì‘ ì‹œê°„ ë‹¨ì¶•
  > ëŒ€ê·œëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ ì‹œê°„ì„ ë‹¨ì¶•í•˜ê¸° ìœ„í•´ ì¼ë¶€ êµ¬ì„±ìš”ì†Œë¥¼ ì§€ì—° ë¡œë”©í•˜ì—¬ ì†ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆë‹¤.
- ë©”ëª¨ë¦¬ ì‚¬ìš© ìµœì í™”
  > ìì£¼ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì„œë¹„ìŠ¤ë‚˜ êµ¬ì„±ìš”ì†ŒëŠ” ì§€ì—° ë¡œë”©ì„ ì‚¬ìš©í•´ í•„ìš”í•  ë•Œë§Œ ë©”ëª¨ë¦¬ì— ë¡œë“œë˜ë„ë¡ í•˜ì—¬ ì „ì²´ì ì¸ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
- ì¡°ê±´ë¶€ ê¸°ëŠ¥
  > íŠ¹ì • ì¡°ê±´ì—ì„œë§Œ í•„ìš”í•œ ê¸°ëŠ¥(ex. íŠ¹ì • ì‚¬ìš©ì ê¶Œí•œì— ë”°ë¥¸ ì„œë¹„ìŠ¤)ì€ ì§€ì—° ë¡œë”©ì„ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ ì¡°ê±´ì´ ì¶©ì¡±ë  ë•Œë§Œ ë¡œë“œí•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.

# ì¦‰ì‹œ ë¡œë”©(Eager Loading)

> ì¦‰ì‹œ ë¡œë”©ì€ ìŠ¤í”„ë§í”„ë ˆì„ì›Œí¬ì˜ ê¸°ë³¸ì ì¸ ë¹ˆ ì´ˆê¸°í™” ë°©ì‹ìœ¼ë¡œ, ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë  ë•Œ ëª¨ë“  ì‹±ê¸€í†¤ ë¹ˆ(Singleton Bean)ì„ ë¯¸ë¦¬ ìƒì„±í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì´ ë°©ì‹ì˜ ì¥ì ì€ `ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë  ë•Œ ëª¨ë“  ì˜ì¡´ì„±ì´ ë¯¸ë¦¬ í™•ì¸ë˜ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì¤‘ì— ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.` ë‹¨ì ìœ¼ë¡œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ ì‹œê°„ì„ ì¦ê°€ì‹œí‚¤ê³ , ì‹œì‘ ì‹œì— í•„ìš”ë¡œ í•˜ì§€ ì•ŠëŠ” ë¹ˆë“¤ê¹Œì§€ ì´ˆê¸°í™”í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë©”ëª¨ë¦¬ë¥¼ ì°¨ì§€í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ ìˆë‹¤.

## ì¦‰ì‹œ ë¡œë”© ì‚¬ìš©

- í•µì‹¬ ì„œë¹„ìŠ¤ êµ¬ì„±ìš”ì†Œ
  > ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°, ë©”ì‹œì§€ í ì„¤ì •, í•µì‹¬ ì„œë¹„ìŠ¤ ë¡œì§ ë“± ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ëŠ” ì¤‘ìš”í•œ êµ¬ì„±ìš”ì†Œë“¤ì€ ì¦‰ì‹œ ë¡œë”©ì„ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•œë‹¤.
- ì˜ì¡´ì„± ê²€ì‚¬
  > ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì—¬ëŸ¬ êµ¬ì„±ìš”ì†Œ ê°„ì˜ ì˜ì¡´ì„±ì´ ë³µì¡í•  ë•Œ, ì‹œì‘ ì‹œ ëª¨ë“  êµ¬ì„±ìš”ì†Œë¥¼ ë¡œë“œí•˜ì—¬ ì˜ì¡´ì„± ë¬¸ì œë¥¼ ë¯¸ë¦¬ ë°œê²¬í•˜ê³  í•´ê²°í•œë‹¤.
- ì„±ëŠ¥ ìµœì í™”
  > ì‚¬ìš©ì ìš”ì²­ ì²˜ë¦¬ ì‹œ ì§€ì—°ì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì„œë¹„ìŠ¤ë‚˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ì „ì— ë¡œë“œí•œë‹¤.

## ğŸ’¡ í•­ìƒ ì¦‰ì‹œ ë¡œë”©ì„ ì¶”ì²œí•˜ëŠ” ì´ìœ ?

`ìŠ¤í”„ë§ êµ¬ì„±ì— ì˜¤ë¥˜ê°€ ìˆì„ ê²½ìš° ì¦‰ì‹œ ì´ˆê¸°í™”ë¥¼ ì‚¬ìš©í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘í•  ë•Œ ì˜¤ë¥˜ë¥¼ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.`

# ì‚¬ìš© ì˜ˆì œ

```java
@Component
class ClassA {

}

@Component
@Lazy
class ClassB {
	private ClassA classA;

	public ClassB(ClassA classA) {
		// Logic
		System.out.println("Some Initialization logic");
		this.classA = classA;
	}

	public void doSomething() {
		System.out.println("Do Something");
	}
}

@Configuration
@ComponentScan
public class LazyInitializationLauncherApplication {
	public static void main(String[] args) {
		try (var context = new AnnotationConfigApplicationContext
				(LazyInitializationLauncherApplication.class)) {

			System.out.println("Initialization of context is completed");

			context.getBean(ClassB.class).doSomething();

		} catch (BeansException e) {
			e.printStackTrace();
		}
	}
}

```

- @Lazy ë¯¸ì‚¬ìš© : `default: ì¦‰ì‹œ ë¡œë”©`

```
// ì¶œë ¥
Some Initialization logic
Initialization of context is completed
Do Something
```

- @Lazy

```
// ì¶œë ¥
Initialization of context is completed
Some Initialization logic
Do Something
```
