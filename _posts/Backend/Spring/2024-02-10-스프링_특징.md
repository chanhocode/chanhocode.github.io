---
title: "[Spring] μ¤ν”„λ§ νΉμ§•_ λμ¨ν• κ²°ν•© κ³Ό Bean κ·Έλ¦¬κ³  IoC μ»¨ν…μ΄λ„"
writer: chanho
date: 2024-02-10 10:44:00 +0900
categories: [Backend, Spring]
tags: [backend, spring]
---

`Spring Framework`μ μ£Όμ” νΉμ§• μ¤‘ λμ¨ν• κ²°ν•©(Loose Coupling)κ³Ό μ¤ν”„λ§ λΉ(Spring Bean) IoC Containerμ— λ€ν•΄ μ•μ•„λ³΄κ³ μ ν•λ‹¤.

# 1. μ¤ν”„λ§μ—μ„ λμ¨ν• κ²°ν•©(Loose Coupling) μ΄λ€?

> μ¤ν”„λ§μ€ λμ¨ν• κ²°ν•©μ„ μ΄‰μ§„ν•λ‹¤. `λμ¨ν• κ²°ν•©μ€ μ„λ΅ λ‹¤λ¥Έ ν΄λμ¤ κ°„μ μμ΅΄μ„±μ„ μµμ†ν™”`ν•λ” κ²ƒμ„ μλ―Έν•λ‹¤. μ΄λ” ν΄λμ¤κ°€ μ„λ΅ κ°•ν•κ² μ—°κ²°λμ§€ μ•κ³ , λ³€κ²½μ΄λ‚ ν™•μ¥μ΄ ν•„μ”ν•  λ• ν• ν΄λμ¤μ λ³€κ²½μ΄ λ‹¤λ¥Έ ν΄λμ¤μ— λ μν–¥μ„ λ―ΈμΉλ‹¤. μ΄λ¬ν• λμ¨ν• κ²°ν•©μ€ μ μ§€ λ³΄μμ„±μ„ ν–¥μƒ μ‹ν‚¤κ³ , ν…μ¤νΈλ¥Ό μ©μ΄ν•κ² ν•λ‹¤.

## β“ κ°•ν• κ²°ν•©

: κ°•ν• κ²°ν•©μ—μ„λ” ν• ν΄λμ¤κ°€ λ‹¤λ¥Έ ν΄λμ¤μ κµ¬μ²΄μ μΈ κµ¬ν„μ— μ§μ ‘μ μΌλ΅ `μμ΅΄` ν•λ‹¤. μ΄λ” λ³€κ²½ μ‚¬ν•­μ΄ μƒκ²Όμ„ λ•, μ΄ μμ΅΄μ„±μΌλ΅ μΈν•΄μ„ κ΄€λ ¨ ν΄λμ¤ λ¨λ‘μ— μν–¥μ„ λ―ΈμΉ  μ μλ‹¤.

```java
class LightBulb {
  public void turnOn() {
    System.out.pritln("μ „κµ¬κ°€ μΌμ΅μµλ‹λ‹¤.");
  }
  public void turnOff() {
    System.out.println("μ „κµ¬κ°€ κΊΌμ΅μµλ‹λ‹¤.");
  }
}

// Switch ν΄λμ¤λ” LightBulb ν΄λμ¤μ— κ°•ν•κ² κ²°ν•©
class Switch {
  private LightBulb lighBulb = new LightBulb();

  public void operateSwitch() {
    lightBulb.turnOn();
    // logic
    lightBulb.turnOff();
  }
}
```

## β“ λμ¨ν• κ²°ν•©

> λμ¨ν• κ²°ν•©μ—μ„λ” μΈν„°νμ΄μ¤λ‚ μ¶”μƒ ν΄λμ¤λ¥Ό μ‚¬μ©ν•μ—¬ κµ¬μ²΄μ μΈ κµ¬ν„μ— μμ΅΄ν•μ§€ μ•λ”λ‹¤. μ΄λ” μ½”λ“μ μ μ—°μ„±κ³Ό ν™•μ¥μ„±μ„ μ¦κ°€μ‹ν‚¨λ‹¤.

```java
// μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ λμ¨ν• κ²°ν•©
interface Switchable {
    void turnOn();
    void turnOff();
}

// LightBulb ν΄λμ¤λ” Switchable μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„
class LightBulb implements Switchable {
    public void turnOn() {
        System.out.println("μ „κµ¬κ°€ μΌμ΅μµλ‹λ‹¤.");
    }

    public void turnOff() {
        System.out.println("μ „κµ¬κ°€ κΊΌμ΅μµλ‹λ‹¤.");
    }
}

// Switch ν΄λμ¤λ” Switchable μΈν„°νμ΄μ¤μ— μμ΅΄ν•¨
class Switch {
    private Switchable switchable;

    public Switch(Switchable switchable) {
        this.switchable = switchable;
    }

    public void operateSwitch() {
        switchable.turnOn();
        // λ‹¤λ¥Έ λ΅μ§...
        switchable.turnOff();
    }
}

// λ©”μΈ ν΄λμ¤μ—μ„ μ‚¬μ©
public class Main {
    public static void main(String[] args) {
        Switchable lightBulb = new LightBulb();
        Switch lightSwitch = new Switch(lightBulb);
        lightSwitch.operateSwitch();
    }
}
```

> μ„, λμ¤ν• κ²°ν•© μμ‹μ—μ„λ” 'Switch' ν΄λμ¤κ°€ 'Switchable'μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ©°, μ΄λ¥Ό ν†µν•΄ 'LightBulb' ν΄λμ¤μ κµ¬μ²΄μ μΈ κµ¬ν„μ— μ§μ ‘μ μΌλ΅ μμ΅΄ν•μ§€ μ•λ”λ‹¤. μ΄ λ°©μ‹μ€ μ½”λ“μ μμ •μ΄λ‚ ν™•μ¥μ΄ ν•„μ”ν•  λ• λ” μ μ—°ν•κ² λ€μ‘ν•  μ μκ² ν•΄μ¤€λ‹¤.

# 2. Bean μ— λ€ν•΄μ„

> μ¤ν”„λ§μ—μ„ λΉμ€ μ• ν”λ¦¬μΌ€μ΄μ…μ ν•µμ‹¬ κµ¬μ„± μ”μ†μ΄λ‹¤. λΉμ€ μΌλ°μ μΌλ΅ Javaκ°μ²΄λ΅, μ¤ν”„λ§μ IoC(μ μ–΄μ μ—­μ „) μ»¨ν…μ΄λ„μ— μν•΄ μΈμ¤ν„΄μ¤ν™”, κ΄€λ¦¬ λ° κµ¬μ„±λλ‹¤. μ΄λ¬ν• λΉλ“¤μ€ μ• ν”λ¦¬μΌ€μ΄μ…μ λΉ„μ¦λ‹μ¤ λ΅μ§, λ°μ΄ν„° μ•΅μ„Έμ¤, μ›Ή μ„λΉ„μ¤ λ“± λ‹¤μ–‘ν• μ—­ν• μ„ λ‹΄λ‹Ήν•λ‹¤. <br> `IoC(Inversion Of Control) Containerμ— μν•΄ κ΄€λ¦¬λλ” Java κ°μ²΄λ¥Ό Beanμ΄λΌ ν•λ‹¤.`

## π“ Java Bean vs Spring Bean vs POJO

π‘‰ Java Bean

- μλ°” λΉμ€ μ¬μ‚¬μ© κ°€λ¥ν• μ»΄ν¬λ„νΈλ΅ μ„¤κ³„λμ—μΌλ©°, μλ°”μ μ§λ ¬ν™”κ°€ κ°€λ¥ν•΄μ•Ό ν•λ‹¤.
- μλ°” λΉμ€ 'Private λ©¤λ²„ λ³€μ'μ™€ κ·Έ λ³€μλ“¤μ„ μ ‘κ·Όν•  μ μλ” 'Publicν• Getter μ™€ Setter λ©”μ„λ“'λ¥Ό κ°€μ§€κ³  μλ‹¤.
- μ΄λ¬ν• νΉμ§•μ€ μλ°” λΉμ΄ μ‰½κ² μ €μ¥, κ²€μƒ‰, μ „μ†΅λ  μ μλ„λ΅ ν•λ©°, λ‹¤μ–‘ν• κ°λ° λ„κµ¬μ—μ„ μ‚¬μ©λ  μ μκ² ν•λ‹¤.

π‘‰ Spring Bean

- μ¤ν”„λ§ λΉμ€ μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ—μ„ κ΄€λ¦¬ν•λ” κ°μ²΄μ΄λ‹¤.
- μ΄λ¬ν• κ°μ²΄λ” μ¤ν”„λ§μ IoC μ»¨ν…μ΄λ„μ— μν•΄ μΈμ¤ν„΄μ¤ν™”λκ³ , κµ¬μ„± λ° κ΄€λ¦¬λλ‹¤.
- μ¤ν”„λ§ λΉμ€ μλ°” λΉκ³Ό μ μ‚¬ν•κ² κµ¬μ„±λ  μ μμ§€λ§, μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ™€ ν†µν•©λ  μ μλ” μ¶”κ°€μ μΈ κΈ°λ¥μ„ κ°€μ§ μ μλ‹¤. μλ¥Ό λ“¤μ–΄, `μμ΅΄μ„± μ£Όμ…(Dependency Injection)μ„ ν†µν•΄ λ‹¤λ¥Έ λΉκ³Ό μ—°λ™λ  μ μλ‹¤.`
- μ¤ν”„λ§ λΉμ€ μΌλ°μ μΌλ΅ XML νμΌμ΄λ‚ μ• λ…Έν…μ΄μ…μ„ ν†µν•΄ μ •μ λλ‹¤.

π‘‰ POJO(Plain Old Java Object)

- νΉμ • κ·μ•½μ΄λ‚ μΈν„°νμ΄μ¤μ—, ν΄λμ¤λ¥Ό μƒμ†λ°›μ§€ μ•λ”, `λ‹¨μν• μλ°” κ°μ²΄`
- POJOλ” Java Beanκ³Ό λ‹¬λ¦¬ νΉμ • ν•μ‹μ΄λ‚ κ·μΉ™μ„ λ”°λ¥΄μ§€ μ•μ•„λ„ λλ©°, μλ°”μ κΈ°λ³Έμ μΈ κ°μ²΄ μ§€ν–¥ μ›λ¦¬μ— μ¶©μ‹¤ν•λ‹¤.

# 3. IoC μ»¨ν…μ΄λ„ | DI μ»¨ν…μ΄λ„

> IoC(Inversion of Control: μ μ–΄μ μ—­μ „)λ” μμ΅΄μ„± κ΄€λ¦¬μ— λ€ν• μ ‘κ·Ό λ°©μ‹μ„ λ»ν•λ‹¤. μ¤ν”„λ§μ IoC μ»¨ν…μ΄λ„λ” κ°μ²΄μ μƒλ…μ£ΌκΈ°μ™€ μμ΅΄μ„±μ„ κ΄€λ¦¬ν•λ©°, μ΄λ¥Ό ν†µν•΄ λ” κΉ”λ”ν•κ³  μ μ§€λ³΄μκ°€ μ©μ΄ν• μ½”λ“λ¥Ό μ‘μ„±ν•  μ μλ‹¤.

## β“ IoC (Inversion Of Control: μ μ–΄μ μ—­μ „) μ΄λ€?

`κ°μ²΄μ μƒμ„±κ³Ό κ°μ²΄κ°„μ μμ΅΄μ„± κ΄€λ¦¬λ¥Ό κ°λ°μκ°€ μ•„λ‹ μ™Έλ¶€ μ»¨ν…μ΄λ„μ— λ§΅κΈ°λ” λ°©λ²•λ΅  μ΄λ‹¤.` <br>
μ¥μ :κ°μ²΄κ°„ λ‚®μ€ κ²°ν•©λ„, μ μ—°ν• μ½”λ“μ‘μ„±, μ μ§€λ³΄μ μ©μ΄, κ°λ°μκ°€ λΉ„μ¦λ‹μ¤ λ΅μ§μ— μ§‘μ¤‘ν•  μ μλ‹¤.

## Spring Context, IoC Context, IoC Container, Spring Container

> ν•΄λ‹Ή ν‚¤μ›λ“λ” μ‚¬μ‹¤μƒ κ°™μ€ κ°λ…μ„ λ‹¤λ¥Έ μ΄λ¦„μΌλ΅ μ§€μΉ­ν•λ” κ²½μ°κ°€ λ§λ‹¤. μ΄λ“¤μ€ λ¨λ‘ μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ ν•µμ‹¬ λ¶€λ¶„μ„ μ΄λ£¨λ©°, κ°μ²΄μ μƒμ„±κ³Ό κ΄€λ¦¬, μμ΅΄μ„± μ£Όμ… λ“±μ„ λ‹΄λ‹Ήν•λ‹¤. κΈ°λ³Έμ μΌλ΅ κ°™μ€ κΈ°λ¥μ„ μν–‰ν•μ§€λ§, μ»¨ν…μ¤νΈλ‚ μ»¨ν…μ΄λ„λΌλ” μ©μ–΄λ” μ‚¬μ©λλ” λ§¥λ½μ— λ”°λΌ μ•½κ°„μ μ°¨μ΄λ¥Ό κ°€μ§ μ μλ‹¤. μλ¥Ό λ“¤μλ©΄ μ• ν”λ¦¬μΌ€μ΄μ… μ»¨ν…μ¤νΈλ” IoC μ»¨ν…μ΄λ„μ κΈ°λ¥μ— λ” λ§μ€ μ—”ν„°ν”„λΌμ΄μ¦ νΉμ • κΈ°λ¥μ„ μ¶”κ°€ν• κ²ƒμΌλ΅ λ³Ό μ μλ‹¤.
